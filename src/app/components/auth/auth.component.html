
<div
  class="auth"
  [class.auth--default]="isRegistration"
  [class.auth--transform]="!isRegistration"
>
<!--  –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ  –ø–∞—Ä–æ–ª—è-->
  @if(isOblivion.isPassword){
    <div class="auth__transition-bar">
      <button class="auth__transition-bar__login"  (click)="resetForm(false)">
        –õ–æ–≥–∏–Ω
      </button>
    </div>
    <div class="auth__reverse-block">
      @if (isOblivion.isPassword&&!isOblivion.isChangePassword){
        <h1>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h1>
      }
      @if(isOblivion.isChangePassword){
        <h1>–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</h1>}
  <div class="auth__fields">
    <!--    –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è-->
    @if (isOblivion.isPassword&&!isOblivion.isChangePassword){
      <label for="login-reg" class="auth__fields__item__label">–õ–æ–≥–∏–Ω</label>
      <div class="auth__fields__item__block">
        <input

          class="auth__fields__item"
          [class.auth__fields__item--error]="!credForLogin.login.trim().length"
          [(ngModel)]="credForLogin.login"
        />
      </div>
      <label *ngIf="!credForLogin.login.trim().length" class="auth__fields__item__label__error"
      >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
      >
      <label for="login-reg" class="auth__fields__item__label">–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ</label>
      <div class="auth__fields__item__block">
        <input
          class="auth__fields__item"
          [class.auth__fields__item--error]="!credForRegistration.secretWord.trim().length"
          [(ngModel)]="credForRegistration.secretWord"
        />
      </div>
      <label *ngIf="!credForRegistration.secretWord.trim().length" class="auth__fields__item__label__error"
      >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
      >
      <button (click)="isForgotPassword()">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
    }
<!--    –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–æ–ª—è-->
    @if(isOblivion.isChangePassword){
      <label for="login-reg" class="auth__fields__item__label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
      <div class="auth__fields__item__block">
        <input
          class="auth__fields__item"
          placeholder="*–ü–∞—Ä–æ–ª—å –Ω–µ –º–µ–Ω–µ–µ {{minLengthChar}} —Å–∏–º–≤–æ–ª–æ–≤"
          [(ngModel)]="credForRegistration.password"
          (keyup)="determinantPasswordComplexity()"
          [type]="showPassword?'text':'password'"
        />
        <div
          class="auth__fields__item--password-complexity"
          [ngClass]="{
            'auth__fields__item--strong': passwordComplexity === 'strong',
          'auth__fields__item--medium':passwordComplexity === 'medium',
          'auth__fields__item--weak': passwordComplexity === 'weak'&&credForRegistration.password}">

        </div>
        <main class="auth__fields__item--hidden" (click)="showHiddenPassword()">üëÅ</main>
      </div>
      <label class="auth__fields__item__label__error" *ngIf="credForRegistration.password.trim().length">
        –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è:{{passwordComplexity==='strong'?'–¢—è–∂–µ–ª—ã–π':passwordComplexity==='medium'?'–°—Ä–µ–¥–Ω–∏–π':'–õ–µ–≥–∫–∏–π'}}
      </label>
      <label for="login-reg" class="auth__fields__item__label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
      <div class="auth__fields__item__block">
        <input
          [type]="showPassword?'text':'password'"
          class="auth__fields__item"
          [class.auth__fields__item--error]="!credForLogin.login.trim().length"
          [(ngModel)]="credForLogin.password"
        />
        <main class="auth__fields__item--hidden" (click)="showHiddenPassword()">üëÅ</main>
      </div>
      <button (click)="reductionPassword()">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
    }

  </div>

</div>
  }
<!--  –ª–æ–≥–∏–Ω–∏–∑–∞—Ü–∏—è-->
  @if (!isRegistration&&!isOblivion.isPassword) {
    <div class="auth__transition-bar">
      <button (click)="resetForm(true)" class="auth__transition-bar__login">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
    </div>
    <div class="auth__reverse-block
">
      <h1>–í—Ö–æ–¥</h1>
      <div class="auth__fields">
        <label for="login-reg" class="auth__fields__item__label">–õ–æ–≥–∏–Ω</label>
        <div class="auth__fields__item__block">
          <input
            id="login-reg"
            class="auth__fields__item"
            [class.auth__fields__item--error]="!credForLogin.login.trim().length"
            [(ngModel)]="credForLogin.login"
          />
        </div>
        <label *ngIf="!credForLogin.login.trim().length" class="auth__fields__item__label__error"
          >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
        >
        <label for="password-reg" class="auth__fields__item__label"
          >–ü–∞—Ä–æ–ª—å</label
        >
        <div class="auth__fields__item__block">
          <input
          id="password-reg"
          class="auth__fields__item"
          [class.auth__fields__item--error]="!credForLogin.password.trim().length"
          [(ngModel)]="credForLogin.password"
          [type]="showPassword?'text':'password'"

        /><main class="auth__fields__item--hidden" (click)="showHiddenPassword()">üëÅ</main></div>

        <label *ngIf="!credForLogin.password.trim().length" class="auth__fields__item__label__error"
          >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
        >
        <div  (click)="isOblivion.isPassword=true" class="auth__fields__item__oblivion">
          <span>–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</span>
        </div>
        <button (click)="onLogin()">–í–æ–π—Ç–∏</button>
      </div>
    </div>
  }
<!--  —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-->
  @if(isRegistration&&!isOblivion.isPassword) {
    <div class="auth__transition-bar">
      <button  (click)="resetForm(false)">
        –õ–æ–≥–∏–Ω
      </button>
    </div>
    <div class="auth__registration">
      <h1>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
      <div class="auth__fields">
        <label for="login" class="auth__fields__item__label">–õ–æ–≥–∏–Ω</label>
       <div>
         <input
           id="login"
           placeholder="*–õ–æ–≥–∏–Ω –Ω–µ –º–µ–Ω–µ–µ {{minLengthChar}} —Å–∏–º–≤–æ–ª–æ–≤"
           class="auth__fields__item"
           [class.auth__fields__item--error]="!credForRegistration.login.trim().length"
           [(ngModel)]="credForRegistration.login"
         />
       </div>
        <label
          *ngIf="!credForRegistration.login.trim().length"
          class="auth__fields__item__label__error"
          >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
        >
        <label for="password" class="auth__fields__item__label">–ü–∞—Ä–æ–ª—å</label>
        <div class="auth__fields__item__block">
          <input
            id="password"
            class="auth__fields__item"
            placeholder="*–ü–∞—Ä–æ–ª—å –Ω–µ –º–µ–Ω–µ–µ {{minLengthChar}} —Å–∏–º–≤–æ–ª–æ–≤"
            [(ngModel)]="credForRegistration.password"
            (keyup)="determinantPasswordComplexity()"
            [type]="showPassword?'text':'password'"
          />
          <div
            class="auth__fields__item--password-complexity"
            [ngClass]="{
            'auth__fields__item--strong': passwordComplexity === 'strong',
          'auth__fields__item--medium':passwordComplexity === 'medium',
          'auth__fields__item--weak': passwordComplexity === 'weak'&&credForRegistration.password}">

          </div>
          <main class="auth__fields__item--hidden" (click)="showHiddenPassword()">üëÅ</main>
        </div>
        <label class="auth__fields__item__label__error" *ngIf="credForRegistration.password.trim().length">
          –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è:{{passwordComplexity==='strong'?'–¢—è–∂–µ–ª—ã–π':passwordComplexity==='medium'?'–°—Ä–µ–¥–Ω–∏–π':'–õ–µ–≥–∫–∏–π'}}
        </label>
        <label
          *ngIf="!credForRegistration.password.trim().length"
          class="auth__fields__item__label__error"
          >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
        >
        <label for="password" class="auth__fields__item__label">–°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–ª–æ–≤–æ</label>

        <div class="auth__fields__item__block"><input
          id="secretWord"
          class="auth__fields__item"
          [class.auth__fields__item--error]="!credForRegistration.secretWord.trim().length"
          [(ngModel)]="credForRegistration.secretWord"
          [type]="showPassword?'text':'password'"
        />
         <main class="auth__fields__item--hidden" (click)="showHiddenPassword()">üëÅ</main>
        </div> <label
        *ngIf="!credForRegistration.secretWord.trim().length"
        class="auth__fields__item__label__error"
      >*–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ</label
      >
        <button (click)="onRegistration()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
      </div>
    </div>

  }
</div>
